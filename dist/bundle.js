!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Application",function(){return a});var o=n(1),a=function(){function e(){var e=new o.a;document.getElementById("app").appendChild(e.start())}return e}();window.onload=function(){new a}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(2),a=n(3),r=n(4),i=function(){function e(){var e=this;this.element=document.createElement("div"),this.onConnectionOpen=function(e){console.log("Connection established successfully")},this.onConnectionMessage=function(t){var n=e;n.oStockTable||(n.oStockTable=new r.a,n.element.appendChild(n.oStockTable.element)),n.oStockTable.setData(t.data)},this.onConnectionClose=function(e){console.log("Connection closed successfully")}}return e.prototype.start=function(){var e=this;return e.setData(),e.element},e.prototype.setData=function(){var e=this;o.a.getInstance().create(a.a),o.a.getInstance().registerEvents({onConnectionOpen:e.onConnectionOpen,onConnectionMessage:e.onConnectionMessage,onConnectionClose:e.onConnectionClose})},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.create=function(e,t){var n=this;return n.oWebSocket=new WebSocket(e,t),n.oWebSocket},e.prototype.registerEvents=function(e){var t=this;e.onConnectionOpen&&(t.oWebSocket.onopen=e.onConnectionOpen),e.onConnectionMessage&&(t.oWebSocket.onmessage=e.onConnectionMessage),e.onConnectionClose&&(t.oWebSocket.onclose=e.onConnectionClose),e.onConnectionError&&(t.oWebSocket.onerror=e.onConnectionError)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o="wss://stocks.mnet.website"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(5),a=n(6),r=function(){function e(){this.stockMap=new Array,this.stockRow=new Array,this.element=document.createElement("div"),this.element.className="stock-table"}return e.prototype.setData=function(e){var t=this;JSON.parse(e).forEach(function(e,n){0==t.stockMap.filter(function(t){return t.name==e[0]}).length&&t.stockMap.push(new o.a(e[0],e[1]))});for(var n=0;n<t.stockMap.length;n++){for(var r=!1,i=0;i<t.stockRow.length;i++)if(t.stockMap[n].name==t.stockRow[i].name){r=!0,t.stockRow[i].updateData(t.stockMap[n].name,t.stockMap[n].price);break}r||(t.stockRow.push(new a.a(t.stockMap[n].name,t.stockMap[n].price)),t.element.appendChild(t.stockRow[t.stockRow.length-1].element))}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(e,t){var n=this;n.name=e,n.price=t}return e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(e,t){this.element=document.createElement("div"),this.elmName=document.createElement("span"),this.elmPrice=document.createElement("span"),this.elmLastUpdate=document.createElement("span"),this.lstHistory=new Array;var n=this;n.name=e,n.price=t,n.updateTime=new Date,n.addElements(),n.setHistory(n.price,n.updateTime),n.renderStockData(n.name,n.price,n.getLastUpdatedTime()),n.watchLastUpdate()}return e.prototype.addElements=function(){var e=this;e.element.className="stock-row",e.elmName.className="stock-name",e.elmPrice.className="stock-price",e.elmLastUpdate.className="last-updated",e.element.appendChild(e.elmName),e.element.appendChild(e.elmPrice),e.element.appendChild(e.elmLastUpdate)},e.prototype.watchLastUpdate=function(){var e=this;e.lastUpdateTimer=window.setInterval(function(){var t=e.getLastUpdatedTime(),n=parseInt((parseInt(t)/1e3).toFixed(0));n/60<1?e.elmLastUpdate.innerHTML="A few Seconds Ago":n/3600<1?e.elmLastUpdate.innerHTML=parseInt((n/60).toFixed(0))+" minutes ago":n/216e3<1&&(e.isDateToday(e.updateTime)?e.elmLastUpdate.innerHTML=e.getTimeFromDate(e.updateTime,!0):e.elmLastUpdate.innerHTML=e.getDayMonthFromDate(e.updateTime)+" "+e.getTimeFromDate(e.updateTime,!0))},6e4)},e.prototype.isDateToday=function(e){return(new Date).getFullYear()==e.getFullYear()&&(new Date).getMonth()==e.getMonth()&&(new Date).getDay()==e.getDay()},e.prototype.getTimeFromDate=function(e,t){return t?e.toLocaleTimeString().split(":")[0]+":"+e.toLocaleTimeString().split(":")[1]+" "+e.toLocaleTimeString().split(":")[2].split(" ")[1]:e.toTimeString().split(":")[0]+":"+e.toTimeString().split(":")[1]},e.prototype.getDayMonthFromDate=function(e){return e.toDateString().split(" ")[2]+" "+e.toDateString().split(" ")[1]},e.prototype.updateData=function(e,t){var n=this;n.updateTime=new Date,n.price=t,n.renderStockData(e,t,n.getLastUpdatedTime()),n.setHistory(n.price,n.updateTime),n.previousPrice=n.price},e.prototype.renderStockData=function(e,t,n){var o=this;o.elmName.innerHTML=e,o.elmPrice.innerHTML=parseFloat(t).toFixed(2),parseInt(n)<60&&(o.elmLastUpdate.innerHTML="A few Seconds Ago"),o.previousPrice&&(parseFloat(t).toFixed(2)!=parseFloat(o.previousPrice).toFixed(2)&&(o.elmPrice.classList.remove("stock-price-increase"),o.elmPrice.classList.remove("stock-price-decrease")),parseFloat(t).toFixed(2)>parseFloat(o.previousPrice).toFixed(2)?o.elmPrice.classList.add("stock-price-increase"):parseFloat(t).toFixed(2)<parseFloat(o.previousPrice).toFixed(2)&&o.elmPrice.classList.add("stock-price-decrease"))},e.prototype.setHistory=function(e,t){var n=this;(!n.lstHistory[n.lstHistory.length-1]||n.lstHistory[n.lstHistory.length-1]&&n.lstHistory[n.lstHistory.length-1][0]!=n.price)&&n.lstHistory.push([n.price,n.updateTime])},e.prototype.getLastUpdatedTime=function(){var e=this;return((new Date).getTime()-e.lstHistory[e.lstHistory.length-1][1].getTime()).toString()},e}()}]);